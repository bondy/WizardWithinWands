<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Aquo Events</title>
<script src="../../../includes/xpath.js" type="text/javascript"></script>
<script src="../../../includes/SpryData.js" type="text/javascript"></script>
<script type="text/javascript">
<!--

var dsUpdate = new Spry.Data.XMLDataSet(null, "//update", { entityEncodeStrings: false });

function dsUpdateObserver(notificationType, ds, data)
{
	if (notificationType == "onDataChanged" || notificationType == "onCurrentRowChanged")
	{
		var row = ds.getCurrentRow();
		if (row)
		{	
			for (var columnName in row)
			{
				if (columnName && !columnName.match(/^ds_/))
				{
					var element = document.getElementById(columnName);
					if (element)
						Spry.Utils.setInnerHTML(element, row[columnName]);
				}
			}
		}
	}
}

dsUpdate.addObserver(dsUpdateObserver);

function LoadURL(url)
{
	// Convert our urls that load full pages, into urls
	// that load just the parts of the page that are different!
	// For this demo, we simply map .html to .xml, but you some
	// developers actually have scripts on the server side that
	// can serve up both full pages, and HTML fragments. For some
	// of these server side scripts you simply tack on an extra
	// query param to the URL that tells the server to give back
	// the HTML fragments instead of the full page, for example:
	//
	// url = url + "?frags=true";

	url = url.replace(".html", ".xml");

	dsUpdate.setURL(url);
	dsUpdate.loadData();
}

-->
</script>
</head>

<body>
<p>
<a href="data/AquoThon.html" onclick="LoadURL(this.href); return false;">Aquo-Thon</a> |
<a href="data/AquoSwing.html" onclick="LoadURL(this.href); return false;">Aquo Swing</a> |
<a href="data/AquoUltraMarathon.html" onclick="LoadURL(this.href); return false;">Aquo Ultra Marathon</a> |
<a href="data/AquoExtremeSki.html" onclick="LoadURL(this.href); return false;">Aquo Extreme Ski</a>
</p>

<div id="event">
	<h2 id="header">Aquo-Thon</h2>
	<div id="content">		
		<div class="location">Whistler, British Columbia</div>
		<div class="date">May 26th</div>
		<p class="description">Join us in Whistler as Extreme Mountain bikers take on the hills and curves of British Columbia.</p>
		<a href="#">directions...</a>
	</div>
</div>
</body>
</html>
